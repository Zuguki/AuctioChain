var p=Object.defineProperty;var d=(t,e,s)=>e in t?p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var u=(t,e,s)=>(d(t,typeof e!="symbol"?e+"":e,s),s);import{r as l,$ as g,j as n,B as j}from"./index-de2d1123.js";import{a as x}from"./usePostAPI-61665161.js";const h=()=>{const[t,e]=l.useState(null);return{imageFile:t,setFile:o=>e(()=>o.target.files?o.target.files[0]:null)}};class I{constructor(){u(this,"pathImage","/images")}async postImage(e){return g.post(this.pathImage,{file:e},{headers:{"Content-Type":"multipart/form-data"}})}}const f=new I,D=()=>{const{imageFile:t,setFile:e}=h(),s=async()=>{const i=await a();return(i==null?void 0:i.data.fileName)??null},{mutateAsync:o}=x({mutationFn:i=>f.postImage(i)}),a=l.useCallback(async()=>{if(!t){alert("Загрузите изображение!");return}return await o(t)},[t]);return{setFile:e,postImage:a,imageFile:t,postCorrectImage:s}},b="_image_1abj3_1",y="_position_1abj3_6",B="_titleBlock_1abj3_12",L="_titleBlockLot_1abj3_16",$="_form_1abj3_20",v="_additionallyInformation_1abj3_24",E="_positionButton_1abj3_33",F="_error_1abj3_37",M={image:b,position:y,titleBlock:B,titleBlockLot:L,form:$,additionallyInformation:v,positionButton:E,error:F},N="_textArea_ej3io_1",k="_title_ej3io_22",A="_error_ej3io_31",c={textArea:N,title:k,error:A},O=l.memo(l.forwardRef(({changeValue:t,title:e,error:s,errorBlur:o,...a},i)=>{const _=t;return n.jsxs("div",{children:[n.jsx("label",{className:c.title,children:e}),n.jsx("textarea",{className:`${c.textArea} ${s&&c.error}`,required:!0,onFocus:o,onChange:_,ref:i,...a})]})})),S="_input_12nlh_1",C="_inputErr_12nlh_28",w="_title_12nlh_33",R="_titleErr_12nlh_42",r={input:S,inputErr:C,title:w,titleErr:R},V=({changeValue:t,title:e,error:s,errorBlur:o,...a})=>n.jsxs("div",{children:[n.jsx("label",{className:`${r.title} ${s&&r.titleErr}`,children:e}),n.jsx("input",{type:"file",onClick:o,...a,onChange:t,className:`${r.input} ${s&&r.inputErr}`,accept:"image/jpeg,image/png"})]}),P="_positionLoading_1sjaq_1",m={positionLoading:P},z=({loading:t,children:e,...s})=>n.jsxs("div",{className:m.pos,children:[n.jsx(j,{type:"submit",disabled:t,...s,children:e}),t&&n.jsx("div",{className:m.positionLoading,children:n.jsx("div",{className:"spinner-grow text-secondary",role:"status",children:n.jsx("span",{className:"visually-hidden",children:"Loading..."})})})]}),G=({src:t,imageFile:e,text:s,...o})=>{if(e===null&&t==null)return null;const a=()=>e===null?t:URL.createObjectURL(e);return n.jsxs("div",{children:[n.jsx("p",{children:s}),n.jsx("img",{...o,src:a(),alt:"img"})]})};export{O as F,V as I,z as S,G as a,M as s,D as u};
