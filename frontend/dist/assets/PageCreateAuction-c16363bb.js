import{r as A,C as I,u as x,j as P,P as C,h as F}from"./index-de2d1123.js";import{u as D}from"./useDataUser-7a2b0287.js";import{D as E}from"./DateLogic-542e517c.js";import{A as S}from"./AuctionService-80fcdd5a.js";import{u as b}from"./usePostAPI-61665161.js";import{u as j}from"./ImageForm-31ec2828.js";import{A as v}from"./AuctionInteraction-27ea512c.js";import"./timeZone-da1aee6f.js";import"./utils-73056672.js";const{getDateByStringISO:c}=E,h=(t,a)=>{const{dateStart:e,dateEnd:n}=t;return{...t,image:a,dateStart:c(e),dateEnd:c(n)}},U=()=>{const{dataUser:t,logicFormValue:a}=D(),{error:e,isPending:n,blurError:r,postData:m}=b(o=>S.addAuction(o)),{setFile:u,postCorrectImage:p,imageFile:g}=j(),{stateApp:d}=A.useContext(I),f=x(),l=async()=>{r();const o=await p();if(!o)return;const i=await m(h(t,o)),s=i==null?void 0:i.data.auctionId;s&&(f(`${C.auction}/${s}`),d.notification=F)};return P.jsx(v,{submitForm:l,loading:n,error:e,logicFormValue:a,blurError:r,logicFileImage:{setFileImage:u,imageFile:g},componentInteraction:{title:"Создание аукциона",buttonText:"Создать аукцион",component:null}})};export{U as default};
