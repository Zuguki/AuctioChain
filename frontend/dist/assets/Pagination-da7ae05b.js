import{r as p,k as f,j as r,P as b,e as j,b as x}from"./index-de2d1123.js";import{u as w}from"./useQuery-baed50f9.js";const R=(t,n,e)=>{const[s,a]=p.useState(null),{data:i,isLoading:o,error:m}=w({queryKey:n,queryFn:async()=>await t(),placeholderData:f,retry:3});return p.useEffect(()=>{if(i!=null){const{headers:u}=i;u&&a(()=>JSON.parse(u["x-pagination"]))}},[i]),{data:(i==null?void 0:i.data)??e,isLoading:o,error:m,pagination:s}},h="_card_wfdcb_1",k="_title_wfdcb_17",N="_description_wfdcb_26",S="_img_wfdcb_36",l={card:h,title:k,description:N,img:S},P="_btn_1srn6_1",B={btn:P},y=({children:t,...n})=>r.jsx("button",{className:B.btn,...n,children:t}),v="/assets/not image-63fd78f8.svg",A=(t,n)=>t.split("").length>n?t.split("").slice(0,n).join("")+"...":t;function U({objCard:t,children:n}){const{image:e,id:s,status:a,name:i}=t;let{description:o}=t;const m=a?b.auction:b.lot;o=A(o,60);const u=j();return r.jsxs("div",{className:l.card,children:[r.jsx("h5",{className:l.title,children:i}),r.jsx("img",{className:l.img,src:e,onError:d=>{d.currentTarget.onerror=null,d.currentTarget.src=v},alt:i}),n,r.jsx("p",{className:l.description,children:o}),r.jsx(x,{to:`${m}/${s}`,state:{from:u},children:r.jsx(y,{children:"Открыть"})})]})}const C="_position_tjs53_1",$="_btnSwipe_tjs53_7",E="_btnSwipeBack_tjs53_18",T="_number_tjs53_22",D="_currentNumber_tjs53_36",I="_line_tjs53_43",c={position:C,btnSwipe:$,btnSwipeBack:E,number:T,currentNumber:D,line:I},L=({children:t,current:n,sendCurrentPage:e,...s})=>{const a=`${c.number} ${n&&c.currentNumber}`,i=o=>{if("value"in o.target){if(o.target.value==="...")return;e(Number(o.target.value))}};return r.jsxs("div",{children:[r.jsx("button",{className:a,...s,onClick:i,children:t}),n&&r.jsx("div",{className:c.line})]})},g=({back:t=!1,...n})=>r.jsx("button",{className:`${c.btnSwipe} ${t&&c.btnSwipeBack}`,...n}),O=({currentPage:t,setCurrentPage:n,endPage:e,...s})=>{const a=()=>{t!==e&&n(t+1)};return r.jsx(g,{currentPage:t,...s,onClick:a})},q=({currentPage:t,setCurrentPage:n,...e})=>{const s=()=>{t!=1&&n(t-1)};return r.jsx(g,{back:!0,currentPage:t,...e,onClick:s})},F="...",_=(t,n,e=1)=>{const s=[];if(n-t>3)return[t,t+1,F,n];for(let a=t;a<=n;a+=e)s.push(a);for(;s.length<4&&s[0]!==1;)s.unshift(s[0]-1);return s},G=(t,n)=>{const{TotalPages:e,CurrentPage:s}=t,[a,i]=p.useState(_(s,e));return p.useEffect(()=>{n(s),i(()=>_(s,e))},[s]),{currentPage:s,endPage:e,paginationArray:a}},z=({pagination:t,sendCurrentPage:n})=>{const{endPage:e,currentPage:s,paginationArray:a}=G(t,n);return e<=1?null:r.jsxs("div",{className:c.position,children:[r.jsx(q,{currentPage:s,setCurrentPage:n,disabled:s===1}),a.map(i=>r.jsx(L,{current:i===s,value:i,sendCurrentPage:n,children:i},i)),r.jsx(O,{currentPage:s,setCurrentPage:n,endPage:e,disabled:s===e})]})};export{U as C,z as P,R as u};
